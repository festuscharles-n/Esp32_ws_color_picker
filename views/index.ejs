<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebSocket Example</title>
</head>
<body>
    <h1>WebSocket Communication</h1>
    <p>Data from ESP32: <span id="sensorData"></span></p>
  
    <input type="color" id="colorPicker" oninput="updateColor()" />
    <br>
  
    <script>
      const socket = new WebSocket('ws://localhost:4000');
      const colorPicker = document.getElementById('colorPicker');
  
      socket.addEventListener('message', (event) => {
        const sensorData = document.getElementById('sensorData');
        sensorData.textContent = event.data;
      });
  
      function updateColor() {
        const color = colorPicker.value;
  
        // Extract RGB values from the color picker value
        const red = parseInt(color.substring(1, 3), 16);
        const green = parseInt(color.substring(3, 5), 16);
        const blue = parseInt(color.substring(5, 7), 16);
  
        // Send LED control data to Node.js server
        fetch('/control', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ red, green, blue }),
        });
      }
    </script>
</body>
  

  
</html>
